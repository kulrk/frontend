<h3 class="header">Orders</h3>

<h5 *ngIf="orders.length == 0">There are no orders</h5>

<table *ngIf="orders.length > 0" class="table table-striped">
  <thead>
    <tr>
      <th>No</th>
      <th>Date</th>
      <th>Total Price</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let order of orders; let i = index">
      <td>{{i + 1}}</td>
      <td>{{order.created_on.split('T')[0]}}</td>
      <td>{{order.totalAmount}}</td>
      <td>
          <span *ngIf="order.orderState == 1" class="badge badge-warning">Confirmed</span>
          <span *ngIf="order.orderState == 2" class="badge badge-warning">In Packaging</span>
          <span *ngIf="order.orderState == 3" class="badge badge-warning">Dispatched</span>
          <span *ngIf="order.orderState == 4" class="badge badge-warning">Our for Delivery</span>
          <span *ngIf="order.orderState == 5" class="badge badge-success">Delivered</span>
          <span *ngIf="order.orderState == 6" class="badge badge-danger">Cancelled</span>
      </td>
      <td>
        <button class="btn btn-info">Details</button>
        <div style="margin-left: 10px;" ngbDropdown class="d-inline-block">
          <button class="btn btn-outline-info" id="dropdownBasic1" ngbDropdownToggle>Update Status</button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <button (click)="onUpdateStatus(order, 2)" ngbDropdownItem>In Package</button>
            <button (click)="onUpdateStatus(order, 3)" ngbDropdownItem>Dispatched</button>
            <button (click)="onUpdateStatus(order, 4)" ngbDropdownItem>Out For Delivery</button>
            <button (click)="onUpdateStatus(order, 5)" ngbDropdownItem>Delivered</button>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>